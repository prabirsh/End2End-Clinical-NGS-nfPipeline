<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>End2End Clinical NGS nfPipeline | NextFlow</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* Professional Blue Color Scheme */
            --primary: #0066cc;
            --primary-dark: #004c99;
            --primary-light: #3385d6;
            --primary-ultra-light: #e6f2ff;
            
            --secondary: #0052a3;
            --accent: #00a3e0;
            --accent-light: #4dc3f7;
            
            --success: #00c853;
            --warning: #ff9800;
            --error: #f44336;
            --info: #2196f3;
            
            --bg-primary: #ffffff;
            --bg-secondary: #f5f8fc;
            --bg-tertiary: #e8f1fa;
            --bg-gradient: linear-gradient(135deg, #0066cc 0%, #0052a3 50%, #004080 100%);
            
            --text-primary: #1a2332;
            --text-secondary: #4a5f7f;
            --text-tertiary: #7891b2;
            --text-light: #a8bcd6;
            
            --border: #d1e0f0;
            --border-light: #e8f1fa;
            
            --shadow-sm: 0 2px 4px rgba(0, 102, 204, 0.08);
            --shadow: 0 4px 12px rgba(0, 102, 204, 0.12);
            --shadow-md: 0 8px 24px rgba(0, 102, 204, 0.16);
            --shadow-lg: 0 16px 32px rgba(0, 102, 204, 0.2);
            --shadow-xl: 0 24px 48px rgba(0, 102, 204, 0.24);
            
            --radius-sm: 8px;
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
        }
        
        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Modern Header */
        .header {
            background: var(--bg-gradient);
            color: white;
            padding: 0;
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-top {
            background: rgba(0, 0, 0, 0.1);
            padding: 8px 0;
            font-size: 12px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .header-top a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .header-top a:hover {
            color: var(--accent-light);
        }
        
        .header-main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        .logo::after {
            content: '';
            position: absolute;
            inset: -3px;
            background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
            border-radius: var(--radius-lg);
            z-index: -1;
        }
        
        .brand-info h1 {
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 4px;
            letter-spacing: -0.5px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        .brand-info .subtitle {
            font-size: 13px;
            font-weight: 500;
            opacity: 0.95;
            letter-spacing: 0.5px;
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 12px;
            border-radius: 100px;
            display: inline-block;
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            border-radius: 100px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            background: #00ff88;
            border-radius: 50%;
            box-shadow: 0 0 12px #00ff88;
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1); 
                box-shadow: 0 0 12px #00ff88;
            }
            50% { 
                opacity: 0.7; 
                transform: scale(1.15); 
                box-shadow: 0 0 20px #00ff88;
            }
        }
        
        .status-text {
            font-size: 13px;
            font-weight: 600;
        }
        
        /* Main Container */
        .app-container {
            flex: 1;
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
            padding: 32px;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 28px;
        }
        
        /* Sidebar Navigation */
        .sidebar {
            background: white;
            border-radius: var(--radius-xl);
            padding: 24px;
            height: fit-content;
            position: sticky;
            top: 180px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-light);
        }
        
        .nav-section {
            margin-bottom: 28px;
        }
        
        .nav-section:last-child {
            margin-bottom: 0;
        }
        
        .nav-title {
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--text-tertiary);
            margin-bottom: 12px;
            letter-spacing: 1.2px;
            padding-left: 12px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 16px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 6px;
            position: relative;
            overflow: hidden;
        }
        
        .nav-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            background: var(--primary);
            transform: translateX(-4px);
            transition: transform 0.25s;
        }
        
        .nav-item:hover {
            background: var(--primary-ultra-light);
            color: var(--primary-dark);
            transform: translateX(4px);
        }
        
        .nav-item:hover::before {
            transform: translateX(0);
        }
        
        .nav-item.active {
            background: var(--bg-gradient);
            color: white;
            box-shadow: var(--shadow-md);
            font-weight: 600;
        }
        
        .nav-item.active::before {
            background: white;
            transform: translateX(0);
        }
        
        .nav-icon {
            font-size: 20px;
            min-width: 24px;
            text-align: center;
        }
        
        /* Content Area */
        .content-area {
            display: flex;
            flex-direction: column;
            gap: 28px;
        }
        
        /* Cards */
        .card {
            background: white;
            border-radius: var(--radius-xl);
            padding: 32px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-light);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card:hover {
            box-shadow: var(--shadow-md);
            border-color: var(--border);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 28px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-light);
        }
        
        .card-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .card-title::before {
            content: '';
            width: 5px;
            height: 28px;
            background: var(--bg-gradient);
            border-radius: 3px;
            box-shadow: var(--shadow-sm);
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: white;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: 24px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--bg-gradient);
        }
        
        .stat-card:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
            transform: translateY(-4px);
        }
        
        .stat-label {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--text-tertiary);
            letter-spacing: 0.8px;
            margin-bottom: 12px;
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
            margin-bottom: 8px;
        }
        
        .stat-change {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
        }
        
        .stat-change.positive {
            color: var(--success);
        }
        
        /* Form Elements */
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
        }
        
        .form-hint {
            font-weight: 400;
            color: var(--text-tertiary);
            font-size: 13px;
            margin-left: 6px;
        }
        
        .form-input,
        .form-select {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s;
            background: white;
            color: var(--text-primary);
        }
        
        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.1);
        }
        
        .form-input:disabled,
        .form-select:disabled {
            background: var(--bg-tertiary);
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .form-select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%230066cc'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 14px center;
            background-size: 22px;
            padding-right: 48px;
        }
        
        /* File Upload Zone */
        .file-upload-zone {
            border: 3px dashed var(--border);
            border-radius: var(--radius-lg);
            padding: 48px 32px;
            text-align: center;
            background: var(--primary-ultra-light);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .file-upload-zone:hover {
            border-color: var(--primary);
            background: rgba(0, 102, 204, 0.08);
        }
        
        .file-upload-zone.drag-over {
            border-color: var(--primary);
            background: rgba(0, 102, 204, 0.12);
            transform: scale(1.02);
            box-shadow: var(--shadow-md);
        }
        
        .file-upload-icon {
            font-size: 56px;
            margin-bottom: 16px;
            filter: grayscale(0.2);
        }
        
        .file-upload-text {
            font-size: 17px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }
        
        .file-upload-hint {
            font-size: 14px;
            color: var(--text-secondary);
        }
        
        .file-input {
            display: none;
        }
        
        .uploaded-files {
            margin-top: 20px;
        }
        
        .uploaded-file {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            background: white;
            border: 2px solid var(--border-light);
            border-radius: var(--radius);
            margin-bottom: 12px;
            transition: all 0.3s;
        }
        
        .uploaded-file:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-sm);
        }
        
        .uploaded-file-info {
            display: flex;
            align-items: center;
            gap: 14px;
        }
        
        .uploaded-file-icon {
            font-size: 28px;
        }
        
        .uploaded-file-details {
            display: flex;
            flex-direction: column;
        }
        
        .uploaded-file-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2px;
        }
        
        .uploaded-file-size {
            font-size: 12px;
            color: var(--text-tertiary);
        }
        
        .remove-file-btn {
            background: none;
            border: none;
            color: var(--error);
            cursor: pointer;
            padding: 8px 12px;
            border-radius: var(--radius-sm);
            transition: all 0.3s;
            font-size: 18px;
            font-weight: 600;
        }
        
        .remove-file-btn:hover {
            background: rgba(244, 67, 54, 0.1);
        }
        
        /* Buttons */
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-family: inherit;
        }
        
        .btn-primary {
            background: var(--bg-gradient);
            color: white;
            box-shadow: var(--shadow);
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        
        .btn-primary:active:not(:disabled) {
            transform: translateY(-1px);
        }
        
        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: var(--primary);
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--border);
        }
        
        .btn-outline:hover {
            border-color: var(--primary);
            background: var(--primary-ultra-light);
        }
        
        /* Tools Panel */
        .tools-panel {
            background: linear-gradient(135deg, rgba(0, 102, 204, 0.05), rgba(0, 163, 224, 0.05));
            border: 2px solid rgba(0, 102, 204, 0.15);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-top: 28px;
        }
        
        .tools-panel-title {
            font-size: 17px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tool-item {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            padding: 16px;
            background: white;
            border-radius: var(--radius);
            margin-bottom: 10px;
            border: 1px solid var(--border-light);
            transition: all 0.3s;
        }
        
        .tool-item:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-sm);
        }
        
        .tool-info {
            flex: 1;
        }
        
        .tool-name {
            font-weight: 700;
            color: var(--text-primary);
            font-size: 15px;
        }
        
        .tool-version {
            font-size: 11px;
            color: white;
            background: var(--primary);
            padding: 3px 8px;
            border-radius: 4px;
            margin-left: 8px;
            font-weight: 600;
        }
        
        .tool-purpose {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 6px;
            line-height: 1.5;
        }
        
        /* Alert Boxes */
        .alert {
            padding: 18px 22px;
            border-radius: var(--radius);
            margin-bottom: 24px;
            display: flex;
            align-items: flex-start;
            gap: 14px;
            border-left: 4px solid;
        }
        
        .alert-info {
            background: rgba(33, 150, 243, 0.08);
            border-color: var(--info);
            color: #1565c0;
        }
        
        .alert-warning {
            background: rgba(255, 152, 0, 0.08);
            border-color: var(--warning);
            color: #e65100;
        }
        
        .alert-success {
            background: rgba(0, 200, 83, 0.08);
            border-color: var(--success);
            color: #1b5e20;
        }
        
        .alert-icon {
            font-size: 22px;
            flex-shrink: 0;
        }
        
        .alert-content {
            flex: 1;
        }
        
        /* Progress Bar */
        .progress-container {
            margin: 24px 0;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: var(--bg-tertiary);
            border-radius: 100px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .progress-fill {
            height: 100%;
            background: var(--bg-gradient);
            border-radius: 100px;
            transition: width 0.4s ease-out;
            position: relative;
            box-shadow: 0 0 10px rgba(0, 102, 204, 0.5);
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Log Viewer */
        .log-viewer {
            background: #1a2332;
            color: #e8f1fa;
            padding: 24px;
            border-radius: var(--radius-lg);
            font-family: 'Fira Code', monospace;
            font-size: 13px;
            max-height: 500px;
            overflow-y: auto;
            line-height: 1.8;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        .log-line {
            display: flex;
            gap: 14px;
            padding: 4px 0;
        }
        
        .log-time {
            color: #7891b2;
            flex-shrink: 0;
            font-weight: 500;
        }
        
        .log-level {
            font-weight: 700;
            flex-shrink: 0;
            width: 70px;
        }
        
        .log-level.info { color: #2196f3; }
        .log-level.success { color: #00c853; }
        .log-level.warning { color: #ff9800; }
        .log-level.error { color: #f44336; }
        
        /* Badge */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 14px;
            border-radius: 100px;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 0.3px;
        }
        
        .badge-success {
            background: rgba(0, 200, 83, 0.1);
            color: var(--success);
            border: 1px solid rgba(0, 200, 83, 0.3);
        }
        
        .badge-warning {
            background: rgba(255, 152, 0, 0.1);
            color: var(--warning);
            border: 1px solid rgba(255, 152, 0, 0.3);
        }
        
        .badge-info {
            background: rgba(33, 150, 243, 0.1);
            color: var(--info);
            border: 1px solid rgba(33, 150, 243, 0.3);
        }
        
        .badge-error {
            background: rgba(244, 67, 54, 0.1);
            color: var(--error);
            border: 1px solid rgba(244, 67, 54, 0.3);
        }
        
        /* Table */
        .results-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .results-table thead {
            background: var(--primary-ultra-light);
        }
        
        .results-table th {
            padding: 16px 20px;
            text-align: left;
            font-weight: 700;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            color: var(--primary-dark);
        }
        
        .results-table td {
            padding: 18px 20px;
            border-bottom: 1px solid var(--border-light);
            color: var(--text-primary);
        }
        
        .results-table tbody tr {
            transition: all 0.3s;
        }
        
        .results-table tbody tr:hover {
            background: var(--primary-ultra-light);
        }
        
        /* Template Gallery */
        .template-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }
        
        .template-card {
            background: white;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: 28px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .template-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--bg-gradient);
            transform: scaleX(0);
            transition: transform 0.3s;
        }
        
        .template-card:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
            transform: translateY(-6px);
        }
        
        .template-card:hover::before {
            transform: scaleX(1);
        }
        
        .template-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }
        
        .template-name {
            font-weight: 700;
            font-size: 17px;
            color: var(--text-primary);
            margin-bottom: 10px;
        }
        
        .template-description {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 18px;
        }
        
        /* Footer */
        .footer {
            background: var(--bg-gradient);
            color: white;
            padding: 32px;
            margin-top: 48px;
            text-align: center;
            box-shadow: var(--shadow-lg);
        }
        
        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .footer-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .footer-text {
            font-size: 14px;
            opacity: 0.95;
            margin-bottom: 4px;
        }
        
        .footer-links {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .footer-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 4px 8px;
            border-radius: 4px;
        }
        
        .footer-link:hover {
            background: rgba(255, 255, 255, 0.15);
            color: var(--accent-light);
        }
        
        /* Responsive */
        @media (max-width: 968px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
            }
            
            .header-main {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        function App() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [pipelineStatus, setPipelineStatus] = useState('idle');
            const [progress, setProgress] = useState(0);
            const [logs, setLogs] = useState([]);
            
            return (
                <>
                    <Header />
                    <div className="app-container">
                        <div className="dashboard-grid">
                            <Sidebar activeTab={activeTab} setActiveTab={setActiveTab} />
                            <div className="content-area">
                                {activeTab === 'dashboard' && <DashboardView />}
                                {activeTab === 'new-analysis' && (
                                    <NewAnalysisView 
                                        pipelineStatus={pipelineStatus}
                                        setPipelineStatus={setPipelineStatus}
                                        setProgress={setProgress}
                                        setLogs={setLogs}
                                        setActiveTab={setActiveTab}
                                    />
                                )}
                                {activeTab === 'results' && <ResultsView />}
                                {activeTab === 'logs' && (
                                    <LogsView 
                                        logs={logs} 
                                        progress={progress}
                                        pipelineStatus={pipelineStatus}
                                    />
                                )}
                                {activeTab === 'templates' && <TemplateGalleryView />}
                                {activeTab === 'manual' && <ManualView />}
                            </div>
                        </div>
                    </div>
                    <Footer />
                </>
            );
        }
        
        function Header() {
            return (
                <div className="header">
                    <div className="header-top">
                        ‚ö†Ô∏è This is a local/development version not deployed on any server ‚Ä¢ 
                        Explore the code on GitHub: <a href="https://github.com/prabirsh/End2End-Clinical-NGS-nfPipeline" target="_blank" rel="noopener noreferrer">
                            github.com/prabirsh/End2End-Clinical-NGS-nfPipeline
                        </a>
                    </div>
                    <div className="header-main">
                        <div className="logo-section">
                            <div className="logo">üß¨</div>
                            <div className="brand-info">
                                <h1>End2End Clinical NGS nfPipeline</h1>
                                <div className="subtitle">[ NextFlow ]</div>
                            </div>
                        </div>
                        <div className="header-actions">
                            <div className="status-indicator">
                                <div className="status-dot"></div>
                                <span className="status-text">System Ready</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
        
        function Sidebar({ activeTab, setActiveTab }) {
            const navItems = [
                { id: 'dashboard', icon: 'üìä', label: 'Dashboard' },
                { id: 'new-analysis', icon: '‚ú®', label: 'New Analysis' },
                { id: 'results', icon: 'üìà', label: 'Results' },
                { id: 'logs', icon: 'üìù', label: 'Pipeline Logs' },
                { id: 'templates', icon: 'üìã', label: 'Output Templates' },
                { id: 'manual', icon: 'üìñ', label: 'User Manual' },
            ];
            
            return (
                <div className="sidebar">
                    <div className="nav-section">
                        <div className="nav-title">Navigation</div>
                        {navItems.map(item => (
                            <div
                                key={item.id}
                                className={`nav-item ${activeTab === item.id ? 'active' : ''}`}
                                onClick={() => setActiveTab(item.id)}
                            >
                                <span className="nav-icon">{item.icon}</span>
                                <span>{item.label}</span>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }
        
        function Footer() {
            return (
                <div className="footer">
                    <div className="footer-content">
                        <div className="footer-title">End2End Clinical NGS nfPipeline</div>
                        <div className="footer-text">
                            Maintained by <strong>Prabir</strong> (Clinical Bioinformatician)
                        </div>
                        <div className="footer-links">
                            <a 
                                href="https://github.com/prabirsh/End2End-Clinical-NGS-nfPipeline" 
                                target="_blank" 
                                rel="noopener noreferrer"
                                className="footer-link"
                            >
                                üîó View on GitHub
                            </a>
                        </div>
                    </div>
                </div>
            );
        }
        
        function DashboardView() {
            return (
                <>
                    <div className="card">
                        <div className="card-header">
                            <h2 className="card-title">Pipeline Overview</h2>
                        </div>
                        
                        <div className="stats-grid">
                            <div className="stat-card">
                                <div className="stat-label">Total Analyses</div>
                                <div className="stat-value">127</div>
                                <div className="stat-change positive">‚Üë 12% this month</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-label">Active Runs</div>
                                <div className="stat-value">3</div>
                                <div className="stat-change">Currently processing</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-label">Completed</div>
                                <div className="stat-value">124</div>
                                <div className="stat-change positive">98% success rate</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-label">Avg Processing</div>
                                <div className="stat-value">4.5h</div>
                                <div className="stat-change positive">‚Üì 15min faster</div>
                            </div>
                        </div>
                        
                        <div className="alert alert-info">
                            <span className="alert-icon">üí°</span>
                            <div className="alert-content">
                                <strong>Welcome to the Clinical NGS Pipeline!</strong><br/>
                                This platform provides enterprise-grade genomic analysis with clinical accuracy. 
                                Start a new analysis from the sidebar or explore output templates to understand the results format.
                            </div>
                        </div>
                    </div>
                    
                    <div className="card">
                        <div className="card-header">
                            <h2 className="card-title">Recent Activity</h2>
                        </div>
                        <table className="results-table">
                            <thead>
                                <tr>
                                    <th>Sample ID</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>SAMPLE001</strong></td>
                                    <td>Germline</td>
                                    <td><span className="badge badge-success">Complete</span></td>
                                    <td>2026-02-01 09:30</td>
                                    <td>
                                        <button className="btn btn-outline" style={{padding: '8px 16px', fontSize: '12px'}}>
                                            View Report
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>PATIENT001</strong></td>
                                    <td>Somatic Paired</td>
                                    <td><span className="badge badge-success">Complete</span></td>
                                    <td>2026-01-31 14:15</td>
                                    <td>
                                        <button className="btn btn-outline" style={{padding: '8px 16px', fontSize: '12px'}}>
                                            View Report
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>SAMPLE002</strong></td>
                                    <td>Germline</td>
                                    <td><span className="badge badge-info">Processing</span></td>
                                    <td>2026-02-01 10:45</td>
                                    <td>
                                        <button className="btn btn-outline" style={{padding: '8px 16px', fontSize: '12px'}}>
                                            View Logs
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </>
            );
        }
        
        function NewAnalysisView({ pipelineStatus, setPipelineStatus, setProgress, setLogs, setActiveTab }) {
            const [analysisType, setAnalysisType] = useState('germline');
            const [uploadedFiles, setUploadedFiles] = useState([]);
            const [sampleSheet, setSampleSheet] = useState(null);
            const [refGenome, setRefGenome] = useState('');
            const [bedFile, setBedFile] = useState('');
            const [ponFile, setPonFile] = useState('');
            const fileInputRef = useRef(null);
            
            const referenceGenomes = [
                { value: '/references/GRCh38/Homo_sapiens_assembly38.fasta', label: 'GRCh38 (hg38) - Human Reference Genome' },
                { value: '/references/GRCh37/human_g1k_v37.fasta', label: 'GRCh37 (hg19) - Legacy Human Reference' },
                { value: '/references/T2T-CHM13/chm13v2.0.fasta', label: 'T2T-CHM13 v2.0 - Complete Human Genome' },
            ];
            
            const bedFiles = [
                { value: '/references/bed_files/clinical_exome_v1.bed', label: 'Clinical Exome Panel (4,800 genes)' },
                { value: '/references/bed_files/comprehensive_cancer_v2.bed', label: 'Comprehensive Cancer Panel (468 genes)' },
                { value: '/references/bed_files/brca_panel.bed', label: 'BRCA1/BRCA2 Targeted Panel' },
                { value: '/references/bed_files/cardio_panel.bed', label: 'Cardiovascular Gene Panel (174 genes)' },
                { value: '/references/bed_files/whole_exome.bed', label: 'Whole Exome Sequencing (WES)' },
                { value: 'custom', label: 'Upload Custom BED File' },
            ];
            
            const ponFiles = [
                { value: '/references/pon/somatic_pon_40samples.vcf.gz', label: 'Standard PoN (40 samples)' },
                { value: '/references/pon/somatic_pon_100samples.vcf.gz', label: 'High-Confidence PoN (100 samples)' },
                { value: '/references/pon/tissue_specific_lung.vcf.gz', label: 'Lung Tissue-Specific PoN' },
                { value: '/references/pon/tissue_specific_breast.vcf.gz', label: 'Breast Tissue-Specific PoN' },
                { value: 'custom', label: 'Upload Custom PoN' },
            ];
            
            const handleFileUpload = (e) => {
                const files = Array.from(e.target.files);
                const newFiles = files.map(file => ({
                    name: file.name,
                    size: formatFileSize(file.size),
                    file: file
                }));
                setUploadedFiles([...uploadedFiles, ...newFiles]);
                
                const csvFile = files.find(f => f.name.endsWith('.csv'));
                if (csvFile) setSampleSheet(csvFile);
            };
            
            const handleDrop = (e) => {
                e.preventDefault();
                e.currentTarget.classList.remove('drag-over');
                const files = Array.from(e.dataTransfer.files);
                const newFiles = files.map(file => ({
                    name: file.name,
                    size: formatFileSize(file.size),
                    file: file
                }));
                setUploadedFiles([...uploadedFiles, ...newFiles]);
            };
            
            const handleDragOver = (e) => {
                e.preventDefault();
                e.currentTarget.classList.add('drag-over');
            };
            
            const handleDragLeave = (e) => {
                e.currentTarget.classList.remove('drag-over');
            };
            
            const removeFile = (index) => {
                setUploadedFiles(uploadedFiles.filter((_, i) => i !== index));
            };
            
            const formatFileSize = (bytes) => {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
            };
            
            const startPipeline = async () => {
                if (!sampleSheet || !refGenome || !bedFile) {
                    alert('Please provide sample sheet, reference genome, and BED file');
                    return;
                }
                
                if (analysisType === 'somatic_tumor_only' && !ponFile) {
                    alert('Panel of Normals is required for tumor-only analysis');
                    return;
                }
                
                setPipelineStatus('running');
                setProgress(0);
                setLogs([]);
                setActiveTab('logs');
                
                const stages = [
                    { name: 'FastQC', message: 'Quality control analysis completed', progress: 10, delay: 2000 },
                    { name: 'BWA-MEM', message: 'Read alignment to reference genome completed', progress: 30, delay: 3000 },
                    { name: 'Picard MarkDuplicates', message: 'PCR duplicate marking completed', progress: 45, delay: 2000 },
                    { name: 'GATK BQSR', message: 'Base quality score recalibration completed', progress: 60, delay: 2500 },
                    { 
                        name: analysisType.includes('somatic') ? 'GATK Mutect2' : 'GATK HaplotypeCaller', 
                        message: `Variant calling using ${analysisType.includes('somatic') ? 'Mutect2' : 'HaplotypeCaller'} completed`, 
                        progress: 75, 
                        delay: 4000 
                    },
                    { name: 'VEP Annotation', message: 'Variant annotation with clinical databases completed', progress: 85, delay: 2000 },
                    { name: 'Filtering', message: 'Clinical-grade variant filtering applied', progress: 92, delay: 1500 },
                    { name: 'Report Generation', message: 'Clinical report generated successfully', progress: 100, delay: 1500 },
                ];
                
                for (const stage of stages) {
                    await new Promise(resolve => setTimeout(resolve, stage.delay));
                    setProgress(stage.progress);
                    setLogs(prev => [...prev, {
                        timestamp: new Date().toLocaleTimeString(),
                        level: 'success',
                        message: `${stage.name}: ${stage.message}`
                    }]);
                }
                
                setPipelineStatus('completed');
                setLogs(prev => [...prev, {
                    timestamp: new Date().toLocaleTimeString(),
                    level: 'success',
                    message: 'üéâ Pipeline completed successfully! Results are ready for review.'
                }]);
            };
            
            return (
                <div className="card">
                    <div className="card-header">
                        <h2 className="card-title">Configure New Analysis</h2>
                    </div>
                    
                    <div className="form-group">
                        <label className="form-label">
                            Analysis Type
                            <span className="form-hint">(Select genomic analysis type)</span>
                        </label>
                        <select 
                            className="form-select"
                            value={analysisType}
                            onChange={(e) => setAnalysisType(e.target.value)}
                            disabled={pipelineStatus === 'running'}
                        >
                            <option value="germline">Germline (Constitutional Variants)</option>
                            <option value="somatic_paired">Somatic Paired (Tumor + Normal)</option>
                            <option value="somatic_tumor_only">Somatic Tumor-Only</option>
                        </select>
                    </div>
                    
                    <div className="form-group">
                        <label className="form-label">
                            Upload FASTQ Files or Sample Sheet
                            <span className="form-hint">(CSV format with sample information)</span>
                        </label>
                        <div 
                            className="file-upload-zone"
                            onClick={() => fileInputRef.current?.click()}
                            onDrop={handleDrop}
                            onDragOver={handleDragOver}
                            onDragLeave={handleDragLeave}
                        >
                            <div className="file-upload-icon">üìÅ</div>
                            <div className="file-upload-text">Click to browse or drag & drop files here</div>
                            <div className="file-upload-hint">
                                Supported formats: FASTQ.GZ, CSV (sample sheet)
                            </div>
                            <input 
                                ref={fileInputRef}
                                type="file" 
                                className="file-input"
                                multiple
                                accept=".fastq,.fastq.gz,.fq,.fq.gz,.csv"
                                onChange={handleFileUpload}
                                disabled={pipelineStatus === 'running'}
                            />
                        </div>
                        
                        {uploadedFiles.length > 0 && (
                            <div className="uploaded-files">
                                {uploadedFiles.map((file, index) => (
                                    <div key={index} className="uploaded-file">
                                        <div className="uploaded-file-info">
                                            <span className="uploaded-file-icon">üìÑ</span>
                                            <div className="uploaded-file-details">
                                                <div className="uploaded-file-name">{file.name}</div>
                                                <div className="uploaded-file-size">{file.size}</div>
                                            </div>
                                        </div>
                                        <button 
                                            className="remove-file-btn"
                                            onClick={() => removeFile(index)}
                                            disabled={pipelineStatus === 'running'}
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                    
                    <div className="form-group">
                        <label className="form-label">
                            Reference Genome
                            <span className="form-hint">(Pre-configured on server)</span>
                        </label>
                        <select 
                            className="form-select"
                            value={refGenome}
                            onChange={(e) => setRefGenome(e.target.value)}
                            disabled={pipelineStatus === 'running'}
                        >
                            <option value="">Select reference genome...</option>
                            {referenceGenomes.map(ref => (
                                <option key={ref.value} value={ref.value}>{ref.label}</option>
                            ))}
                        </select>
                    </div>
                    
                    <div className="form-group">
                        <label className="form-label">
                            Target BED File
                            <span className="form-hint">(Pre-configured panels or custom upload)</span>
                        </label>
                        <select 
                            className="form-select"
                            value={bedFile}
                            onChange={(e) => setBedFile(e.target.value)}
                            disabled={pipelineStatus === 'running'}
                        >
                            <option value="">Select target panel...</option>
                            {bedFiles.map(bed => (
                                <option key={bed.value} value={bed.value}>{bed.label}</option>
                            ))}
                        </select>
                    </div>
                    
                    {analysisType === 'somatic_tumor_only' && (
                        <div className="form-group">
                            <label className="form-label">
                                Panel of Normals (PoN) - Required
                                <span className="form-hint">(Essential for tumor-only analysis)</span>
                            </label>
                            <select 
                                className="form-select"
                                value={ponFile}
                                onChange={(e) => setPonFile(e.target.value)}
                                disabled={pipelineStatus === 'running'}
                            >
                                <option value="">Select Panel of Normals...</option>
                                {ponFiles.map(pon => (
                                    <option key={pon.value} value={pon.value}>{pon.label}</option>
                                ))}
                            </select>
                            <div className="alert alert-warning" style={{marginTop: '16px'}}>
                                <span className="alert-icon">‚ö†Ô∏è</span>
                                <div className="alert-content">
                                    <strong>Important:</strong> Without a matched normal sample, germline variants may be 
                                    incorrectly called as somatic. A high-quality PoN (‚â•30 samples) is essential.
                                </div>
                            </div>
                        </div>
                    )}
                    
                    <div className="tools-panel">
                        <div className="tools-panel-title">üîß Pipeline Tools & Workflow</div>
                        <div className="tool-item">
                            <div className="tool-info">
                                <div className="tool-name">
                                    FastQC
                                    <span className="tool-version">v0.12.1</span>
                                </div>
                                <div className="tool-purpose">Quality control analysis of raw sequencing data</div>
                            </div>
                        </div>
                        <div className="tool-item">
                            <div className="tool-info">
                                <div className="tool-name">
                                    BWA-MEM
                                    <span className="tool-version">v0.7.17</span>
                                </div>
                                <div className="tool-purpose">Alignment of reads to reference genome</div>
                            </div>
                        </div>
                        <div className="tool-item">
                            <div className="tool-info">
                                <div className="tool-name">
                                    Picard MarkDuplicates
                                    <span className="tool-version">v3.1.1</span>
                                </div>
                                <div className="tool-purpose">PCR duplicate identification and marking</div>
                            </div>
                        </div>
                        <div className="tool-item">
                            <div className="tool-info">
                                <div className="tool-name">
                                    GATK BaseRecalibrator
                                    <span className="tool-version">v4.5.0.0</span>
                                </div>
                                <div className="tool-purpose">Base quality score recalibration (BQSR)</div>
                            </div>
                        </div>
                        <div className="tool-item">
                            <div className="tool-info">
                                <div className="tool-name">
                                    {analysisType.includes('somatic') ? 'GATK Mutect2' : 'GATK HaplotypeCaller'}
                                    <span className="tool-version">v4.5.0.0</span>
                                </div>
                                <div className="tool-purpose">
                                    {analysisType.includes('somatic') 
                                        ? 'Somatic variant calling with tumor-normal paired analysis' 
                                        : 'Germline variant calling for constitutional variants'}
                                </div>
                            </div>
                        </div>
                        <div className="tool-item">
                            <div className="tool-info">
                                <div className="tool-name">
                                    VEP (Variant Effect Predictor)
                                    <span className="tool-version">v110</span>
                                </div>
                                <div className="tool-purpose">Comprehensive variant annotation (ClinVar, COSMIC, gnomAD)</div>
                            </div>
                        </div>
                        <div className="tool-item">
                            <div className="tool-info">
                                <div className="tool-name">
                                    Clinical Report Generator
                                    <span className="tool-version">Latest</span>
                                </div>
                                <div className="tool-purpose">Professional HTML reports with therapeutic recommendations</div>
                            </div>
                        </div>
                    </div>
                    
                    <div className="alert alert-info" style={{marginTop: '24px'}}>
                        <span className="alert-icon">‚è±Ô∏è</span>
                        <div className="alert-content">
                            <strong>Expected Runtime:</strong> 
                            {analysisType === 'germline' && ' ~3-4 hours for germline analysis'}
                            {analysisType === 'somatic_paired' && ' ~5-6 hours for somatic paired analysis'}
                            {analysisType === 'somatic_tumor_only' && ' ~4-5 hours for tumor-only analysis'}
                        </div>
                    </div>
                    
                    <button 
                        className="btn btn-primary" 
                        onClick={startPipeline}
                        disabled={pipelineStatus === 'running' || !sampleSheet || !refGenome || !bedFile}
                        style={{marginTop: '28px', width: '100%', padding: '18px', fontSize: '16px'}}
                    >
                        {pipelineStatus === 'running' ? '‚è≥ Pipeline Running...' : '‚ñ∂Ô∏è Start Analysis Pipeline'}
                    </button>
                </div>
            );
        }
        
        function ResultsView() {
            return (
                <div className="card">
                    <div className="card-header">
                        <h2 className="card-title">Analysis Results</h2>
                        <button className="btn btn-secondary">üì• Download All</button>
                    </div>
                    
                    <table className="results-table">
                        <thead>
                            <tr>
                                <th>Sample ID</th>
                                <th>Analysis Type</th>
                                <th>Variants</th>
                                <th>Coverage</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>SAMPLE001</strong></td>
                                <td>Germline</td>
                                <td>127 SNVs, 15 INDELs</td>
                                <td>185x (98.5% @ 50x)</td>
                                <td><span className="badge badge-success">Complete</span></td>
                                <td>
                                    <button className="btn btn-outline" style={{padding: '8px 16px', fontSize: '12px'}}>
                                        üìä View Report
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>PATIENT001</strong></td>
                                <td>Somatic Paired</td>
                                <td>43 SNVs, 8 INDELs, 3 CNVs</td>
                                <td>T: 450x, N: 220x</td>
                                <td><span className="badge badge-success">Complete</span></td>
                                <td>
                                    <button className="btn btn-outline" style={{padding: '8px 16px', fontSize: '12px'}}>
                                        üìä View Report
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>SAMPLE002</strong></td>
                                <td>Germline</td>
                                <td>-</td>
                                <td>142x (96.8% @ 50x)</td>
                                <td><span className="badge badge-info">Processing</span></td>
                                <td>
                                    <button className="btn btn-outline" style={{padding: '8px 16px', fontSize: '12px'}}>
                                        üìù View Logs
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div className="alert alert-success" style={{marginTop: '28px'}}>
                        <span className="alert-icon">‚úÖ</span>
                        <div className="alert-content">
                            <strong>Quality Passed:</strong> All completed samples meet clinical-grade quality thresholds 
                            (‚â•100x coverage, ‚â•95% targets at 50x, ‚â•80% on-target rate).
                        </div>
                    </div>
                </div>
            );
        }
        
        function LogsView({ logs, progress, pipelineStatus }) {
            const logContainerRef = useRef(null);
            
            useEffect(() => {
                if (logContainerRef.current) {
                    logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight;
                }
            }, [logs]);
            
            return (
                <div className="card">
                    <div className="card-header">
                        <h2 className="card-title">Pipeline Execution Logs</h2>
                        <div style={{display: 'flex', gap: '12px'}}>
                            {pipelineStatus === 'running' && (
                                <span className="badge badge-info">‚óè Running</span>
                            )}
                            {pipelineStatus === 'completed' && (
                                <span className="badge badge-success">‚úì Completed</span>
                            )}
                            <button className="btn btn-secondary">üîÑ Refresh</button>
                        </div>
                    </div>
                    
                    {pipelineStatus === 'running' && (
                        <div className="progress-container">
                            <div className="progress-label">
                                <span>Pipeline Progress</span>
                                <span>{progress}%</span>
                            </div>
                            <div className="progress-bar">
                                <div className="progress-fill" style={{width: `${progress}%`}}></div>
                            </div>
                        </div>
                    )}
                    
                    <div className="log-viewer" ref={logContainerRef}>
                        {logs.length === 0 ? (
                            <div style={{color: '#7891b2', textAlign: 'center', padding: '40px'}}>
                                No logs available. Start a pipeline to see execution logs.
                            </div>
                        ) : (
                            logs.map((log, i) => (
                                <div key={i} className="log-line">
                                    <span className="log-time">[{log.timestamp}]</span>
                                    <span className={`log-level ${log.level}`}>{log.level.toUpperCase()}</span>
                                    <span>{log.message}</span>
                                </div>
                            ))
                        )}
                    </div>
                </div>
            );
        }
        
        function TemplateGalleryView() {
            const templates = [
                {
                    icon: 'üìä',
                    name: 'Germline Clinical Report',
                    description: 'Comprehensive report for constitutional variant analysis with pathogenic variants, VUS, and pharmacogenomics.'
                },
                {
                    icon: 'üéØ',
                    name: 'Somatic Clinical Report',
                    description: 'Precision oncology report with FDA-approved therapies, clinical trials matching, and TMB/MSI status.'
                },
                {
                    icon: 'üìà',
                    name: 'MultiQC Quality Report',
                    description: 'Comprehensive quality control metrics including coverage, alignment statistics, and variant calling QC.'
                },
                {
                    icon: 'üß¨',
                    name: 'Germline VCF',
                    description: 'Standard VCF format with filtered germline variants (SNVs and INDELs).'
                },
                {
                    icon: 'üî¨',
                    name: 'Somatic VCF',
                    description: 'Tumor-specific variant calls in VCF format with VAF and filtering annotations.'
                },
                {
                    icon: 'üìã',
                    name: 'Annotated Variants (TSV)',
                    description: 'Human-readable TSV with comprehensive annotations from ClinVar, gnomAD, COSMIC, and OncoKB.'
                },
                {
                    icon: 'üìä',
                    name: 'Coverage Analysis',
                    description: 'Per-gene and per-exon coverage statistics with uniformity metrics.'
                },
                {
                    icon: 'üßÆ',
                    name: 'Copy Number Variants',
                    description: 'CNV calls including focal amplifications and deletions with therapeutic implications.'
                },
            ];
            
            return (
                <div className="card">
                    <div className="card-header">
                        <h2 className="card-title">Output Template Gallery</h2>
                    </div>
                    
                    <div className="alert alert-info">
                        <span className="alert-icon">üí°</span>
                        <div className="alert-content">
                            <strong>Preview Output Formats:</strong> These are example templates showing the structure and 
                            format of files generated by the pipeline. Click on any template to download and inspect the format.
                        </div>
                    </div>
                    
                    <div className="template-gallery">
                        {templates.map((template, index) => (
                            <div key={index} className="template-card">
                                <div className="template-icon">{template.icon}</div>
                                <div className="template-name">{template.name}</div>
                                <div className="template-description">{template.description}</div>
                                <button className="btn btn-primary" style={{width: '100%', marginTop: '4px'}}>
                                    üì• Download Template
                                </button>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }
        
        function ManualView() {
            return (
                <div className="card">
                    <div className="card-header">
                        <h2 className="card-title">üìñ User Manual</h2>
                    </div>
                    
                    <div style={{lineHeight: '1.8'}}>
                        <h3 style={{marginBottom: '20px', color: 'var(--primary)', fontSize: '22px', fontWeight: '700'}}>
                            Quick Start Guide
                        </h3>
                        
                        <div className="alert alert-info">
                            <span className="alert-icon">üí°</span>
                            <div className="alert-content">
                                This pipeline provides clinical-grade NGS analysis with support for germline and somatic variant calling.
                            </div>
                        </div>
                        
                        <h4 style={{marginTop: '36px', marginBottom: '16px', fontSize: '18px', fontWeight: '700', color: 'var(--text-primary)'}}>
                            1. Web Interface Usage
                        </h4>
                        <ol style={{marginLeft: '28px', lineHeight: '2'}}>
                            <li>Navigate to <strong>New Analysis</strong> tab</li>
                            <li>Select analysis type (Germline, Somatic Paired, or Somatic Tumor-Only)</li>
                            <li>Upload FASTQ files or sample sheet (CSV format) via drag & drop or file browser</li>
                            <li>Select reference genome from dropdown (pre-configured on server)</li>
                            <li>Choose target BED file (pre-configured panels available)</li>
                            <li>For tumor-only: Select Panel of Normals from dropdown</li>
                            <li>Click "Start Analysis Pipeline"</li>
                            <li>Monitor progress in the Pipeline Logs tab</li>
                        </ol>
                        
                        <h4 style={{marginTop: '36px', marginBottom: '16px', fontSize: '18px', fontWeight: '700', color: 'var(--text-primary)'}}>
                            2. Variant Callers
                        </h4>
                        <table className="results-table" style={{marginTop: '16px'}}>
                            <thead>
                                <tr>
                                    <th>Analysis Type</th>
                                    <th>Tool</th>
                                    <th>Version</th>
                                    <th>Purpose</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Germline</strong></td>
                                    <td>GATK HaplotypeCaller</td>
                                    <td>4.5.0.0</td>
                                    <td>Constitutional variant calling</td>
                                </tr>
                                <tr>
                                    <td><strong>Somatic</strong></td>
                                    <td>GATK Mutect2</td>
                                    <td>4.5.0.0</td>
                                    <td>Tumor-specific variant calling with PoN</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h4 style={{marginTop: '36px', marginBottom: '16px', fontSize: '18px', fontWeight: '700', color: 'var(--text-primary)'}}>
                            3. Quality Thresholds
                        </h4>
                        <table className="results-table" style={{marginTop: '16px'}}>
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Germline</th>
                                    <th>Somatic (Tumor)</th>
                                    <th>Somatic (Normal)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Mean Coverage</td>
                                    <td>‚â•100x</td>
                                    <td>‚â•250x</td>
                                    <td>‚â•100x</td>
                                </tr>
                                <tr>
                                    <td>% Targets at 50x</td>
                                    <td>‚â•95%</td>
                                    <td>‚â•98%</td>
                                    <td>‚â•95%</td>
                                </tr>
                                <tr>
                                    <td>On-Target Rate</td>
                                    <td>‚â•80%</td>
                                    <td>‚â•85%</td>
                                    <td>‚â•80%</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div style={{
                            marginTop: '36px', 
                            padding: '24px', 
                            background: 'var(--primary-ultra-light)', 
                            borderRadius: 'var(--radius-lg)',
                            borderLeft: '4px solid var(--primary)'
                        }}>
                            <strong style={{fontSize: '16px', color: 'var(--primary-dark)'}}>üí° Pro Tips:</strong>
                            <ul style={{marginTop: '14px', marginLeft: '20px', lineHeight: '1.8'}}>
                                <li>For tumor-only analysis, use a high-quality Panel of Normals (‚â•30 samples)</li>
                                <li>Always validate pathogenic variants with orthogonal methods (Sanger sequencing)</li>
                                <li>Check coverage depth for clinical genes before finalizing reports</li>
                                <li>Review VUS (Variants of Uncertain Significance) periodically as databases update</li>
                            </ul>
                        </div>
                    </div>
                </div>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>